# Aprofundando no Git II

No Git existe a possibilidade de se fazer alterações no código (e compartilhar com outros usuários), sem comprometer um código que já está funcionando. O código do **branch** master (o principal, e o único que existe por padrão) deve ser sempre estável e funcional, com testes sendo feitos em outros branches.

Para criar um novo branch, primeiro execute um `pull`, para garantir que os arquivos estão atualizados. Então, execute `git checkout -b [Nome do branch]`. O modificador `-b` serve para criar um novo branch. Agora, você está em um branch diferente do master, podendo fazer mudanças e commits sem alterar o código original. Para mandar esse branch para o GitHub e criar um branch remoto, usamos o comando `git push origin -u [Nome do branch]`. Depois da primeira vez, podemos usar o push direto(desde que estejamos no branch certo).

Para mudar de branch, podemos usar o comando `git checkout [Nome do branch]`. Tome cuidado antes de fazer isso, qualquer mudança que você tiver feito e não estiver em um commit será jogada fora. Para evitar isso, crie um commit ou use o comando `git stash` que guarda todas as mudanças em um commit temporário, que pode ser recuperado facilmente, por exemplo, com o comando `git cherry-pick [código do commit]`, que "pula" o estado do repositório para um certo commit. Uma lista de modificações do repositório pode ser acessada com o comando `git reflog`, e dele, você seleciona o commit criado pelo stash.

Se você estiver satisfeito com o trabalho de um branch, e quiser juntá-lo ao master, basta voltar para o master e usar o comando `git merge [Nome do branch]`. No entanto, caso a mesma parte de um mesmo arquivo tenha sido modificada nos 2 branches, o auto-merge vai falhar, e te avisar quais os arquivos problemáticos. (o mesmo pode acontecer quando você altera coisas sem antes dar pull). Nesses arquivos, ficam as duas versões diferentes daquela parte. Você pode escolher uma delas, e então usar o add e criar um commit para resolver o problema. Agora, você já pode deletar o seu branch antigo, pois tudo está no master.

Com o comando `git branch -a` podemos ver todos os branches, locais ou remotos, do nosso repositório. Para deletar um branch local, usamos `git branch -d [Nome do branch]`. Já para deletar um branch remoto, usamos `git push origin :[Nome do branch]` (note os dois pontos).